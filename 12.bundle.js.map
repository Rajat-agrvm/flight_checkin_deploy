{"version":3,"sources":["webpack:///./src/components/passengers/PassengerDetails.js","webpack:///./src/components/passengers/PassengerDetailsPage.js","webpack:///./tools/mockData.js","webpack:///./src/api/ancillaryApi.js","webpack:///./src/redux/actions/ancillaryActions.js","webpack:///./src/components/seatmap/SeatMapPage.js"],"names":["PassengerDetails","passenger","ancillaries","ancillaryPresent","ancillary","length","id","filter","a","value","className","pnr","name","map","join","seat","wheelChair","infants","mapDispatchToProps","loadPassengers","savePassenger","loadAncillaries","connect","state","ownProps","flightName","match","params","console","log","passengers","find","newPassenger","getPassengerByPNR","flightPassengers","passenger1","flightId","flightAncillaries","newAncillaries","history","props","useState","setPassenger","setFlightPassengers","saving","setSaving","useEffect","catch","error","alert","SeatMapPage","select","status","prevPassenger","seatReserved","number","prevPassengers","onSave","event","preventDefault","then","toast","success","push","backUrl","Spinner","module","exports","mealPreferences","1","2","3","mealPreference","specialMeals","purchase","passport","address","dob","flights","departure","destination","ancillariesId","purchases","4","newFlight","seatMaps","seatmap","passengerId","newSeatMap","newSeat","baseUrl","process","dispatch","fetch","handleResponse","handleError","type","types","loadAncillariesSuccess","saveAncillary","getState","method","headers","body","JSON","stringify","ancillaryApi","savedAncillary","updateAncillarySuccess","createAncillarySuccess","inFlight","isAdmin","statusList","key","onClick","parseInt","style","marginTop","to","background"],"mappings":"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","file":"12.bundle.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nconst PassengerDetails = ({ passenger, ancillaries }) => {\r\n  const ancillaryPresent =\r\n    passenger.ancillary.length > 0 &&\r\n    ancillaries.id &&\r\n    passenger.ancillary.filter((a) => ancillaries.value[a]).length > 0;\r\n  // console.log(\"passengerDetails : \" + JSON.stringify(passenger));\r\n  return (\r\n    <table className=\"table table-borderless\">\r\n      <tbody>\r\n        <tr>\r\n          <td>PNR</td>\r\n          <td>:</td>\r\n          <td>{passenger.pnr}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Name</td>\r\n          <td>:</td>\r\n          <td>{passenger.name}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Ancillary Service</td>\r\n          <td>:</td>\r\n          <td>\r\n            {ancillaryPresent\r\n              ? passenger.ancillary\r\n                  .map((a) => ancillaries.value[a].value)\r\n                  .join(\", \") || \"NIL\"\r\n              : \"NIL\"}\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>Seat No.</td>\r\n          <td>:</td>\r\n          <td>{passenger.seat}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Wheel Chair</td>\r\n          <td>:</td>\r\n          <td>{passenger.wheelChair ? \"YES\" : \"NO\"}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>Infants</td>\r\n          <td>:</td>\r\n          <td>{passenger.infants}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nPassengerDetails.propTypes = {\r\n  passenger: PropTypes.object.isRequired,\r\n  ancillaries: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default PassengerDetails;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PassengerDetails from \"./PassengerDetails\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  loadPassengers,\r\n  savePassenger,\r\n} from \"../../redux/actions/passengerActions\";\r\nimport { loadAncillaries } from \"../../redux/actions/ancillaryActions\";\r\nimport { newPassenger, newAncillaries } from \"../../../tools/mockData\";\r\nimport SeatMapPage from \"../seatmap/SeatMapPage\";\r\nimport Spinner from \"../common/Spinner\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction PassengerDetailsPage({\r\n  passengers,\r\n  loadPassengers,\r\n  savePassenger,\r\n  loadAncillaries,\r\n  flightAncillaries,\r\n  flightName,\r\n  history,\r\n  ...props\r\n}) {\r\n  const [passenger, setPassenger] = useState({ ...props.passenger });\r\n  const [flightPassengers, setFlightPassengers] = useState([\r\n    ...props.flightPassengers,\r\n  ]);\r\n  const [saving, setSaving] = useState(false);\r\n  useEffect(() => {\r\n    console.log(\"useEffect\");\r\n    if (passengers.length === 0) {\r\n      loadPassengers().catch((error) =>\r\n        alert(\"Loading passengers failed \" + error)\r\n      );\r\n    } else {\r\n      setPassenger({ ...props.passenger });\r\n      setFlightPassengers([...props.flightPassengers]);\r\n    }\r\n    if (!flightAncillaries.id) {\r\n      loadAncillaries().catch((error) =>\r\n        alert(\"Loading ancillaries failed \" + error)\r\n      );\r\n    }\r\n  }, [props.flightPassengers]);\r\n\r\n  function handleClick(seat) {\r\n    const status =\r\n      passenger.wheelChair && passenger.infants > 0\r\n        ? \"both\"\r\n        : passenger.infants > 0\r\n        ? \"infants\"\r\n        : passenger.wheelChair\r\n        ? \"wheelChair\"\r\n        : \"reserved\";\r\n    setPassenger((prevPassenger) => {\r\n      const seatReserved =\r\n        flightPassengers.filter((passenger) => passenger.seat === seat.number)\r\n          .length > 0;\r\n      return {\r\n        ...prevPassenger,\r\n        seat:\r\n          seatReserved && prevPassenger.seat === seat.number\r\n            ? \"\"\r\n            : seatReserved\r\n            ? prevPassenger.seat\r\n            : seat.number,\r\n        status:\r\n          seatReserved && prevPassenger.seat === seat.number\r\n            ? \"available\"\r\n            : status,\r\n      };\r\n    });\r\n\r\n    setFlightPassengers((prevPassengers) => {\r\n      const seatReserved =\r\n        flightPassengers.filter((passenger) => passenger.seat === seat.number)\r\n          .length > 0;\r\n      return prevPassengers.map((prevPassenger) => {\r\n        return prevPassenger.id === passenger.id\r\n          ? prevPassenger.seat === seat.number\r\n            ? { ...prevPassenger, status: \"available\", seat: \"\" }\r\n            : seatReserved\r\n            ? prevPassenger\r\n            : { ...prevPassenger, seat: seat.number, status: status }\r\n          : prevPassenger;\r\n      });\r\n    });\r\n  }\r\n\r\n  function handleSave(event) {\r\n    event.preventDefault();\r\n    setSaving(true);\r\n    savePassenger(passenger)\r\n      .then(() => {\r\n        setSaving(false);\r\n        toast.success(\"Passenger Updated\");\r\n        history.push(\"/staff/passengers/\" + flightName);\r\n      })\r\n      .catch((error) => {\r\n        setSaving(false);\r\n        toast.error(\"Updating Passenger failed\");\r\n        console.log(\"failed to save passenger details\" + error);\r\n        history.push(\"/staff/passengers/\" + flightName);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h2>Passenger Details</h2>\r\n      {!flightAncillaries.id ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-7\">\r\n              <PassengerDetails\r\n                passenger={passenger}\r\n                ancillaries={flightAncillaries}\r\n              ></PassengerDetails>\r\n            </div>\r\n            <div className=\"col-md-5\">\r\n              <SeatMapPage\r\n                passengers={flightPassengers}\r\n                passenger={passenger}\r\n                select={handleClick}\r\n                onSave={handleSave}\r\n                backUrl={\"/staff/passengers/\" + flightName}\r\n                saving={saving}\r\n              ></SeatMapPage>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nPassengerDetailsPage.propTypes = {\r\n  passengers: PropTypes.array.isRequired,\r\n  flightPassengers: PropTypes.array.isRequired,\r\n  flightName: PropTypes.string.isRequired,\r\n  loadPassengers: PropTypes.func.isRequired,\r\n  loadAncillaries: PropTypes.func.isRequired,\r\n  passenger: PropTypes.object.isRequired,\r\n  flightAncillaries: PropTypes.object.isRequired,\r\n  savePassenger: PropTypes.func.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction getPassengerByPNR(passengers, pnr) {\r\n  return passengers.find((a) => a.pnr === pnr) || newPassenger;\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  const flightName = ownProps.match.params.name;\r\n  const pnr = ownProps.match.params.pnr;\r\n  console.log(\"mapStateToProps: passengerDetailsPage\");\r\n  const passenger =\r\n    pnr && state.passengers.length > 0\r\n      ? getPassengerByPNR(state.passengers, pnr)\r\n      : newPassenger;\r\n\r\n  const flightPassengers = passenger.id\r\n    ? state.passengers.filter(\r\n        (passenger1) => passenger1.flightId === passenger.flightId\r\n      )\r\n    : [];\r\n  const flightAncillaries =\r\n    state.ancillaries.length > 0 && passenger.id\r\n      ? state.ancillaries.find((a) => a.id === passenger.flightId)\r\n      : newAncillaries;\r\n  return {\r\n    passenger,\r\n    flightAncillaries,\r\n    flightPassengers,\r\n    flightName,\r\n    passengers: state.passengers,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loadPassengers,\r\n  savePassenger,\r\n  loadAncillaries,\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PassengerDetailsPage);\r\n","const flights = [\n  {\n    id: 1,\n    name: \"E301\",\n    departure: \"13:00\",\n    destination: \"Hyderabad\",\n    passengers: 3,\n    ancillariesId: 1,\n    purchases: {\n      1: { id: 1, value: \"fitbit\" },\n      2: { id: 2, value: \"Smartwatch\" },\n      3: { id: 3, value: \"Bluetooth speaker\" },\n      4: { id: 4, value: \"EarPods\" },\n    },\n    specialMeals: {\n      1: { id: 1, value: \"Veg Sandwich\" },\n      2: { id: 2, value: \"Beverages\" },\n      3: { id: 3, value: \"Biriyani\" },\n      4: { id: 4, value: \"Fried Rice\" },\n    },\n  },\n  {\n    id: 2,\n    name: \"E302\",\n    departure: \"14:00\",\n    destination: \"Delhi\",\n    passengers: 2,\n    ancillariesId: 2,\n    purchases: {\n      1: { id: 1, value: \"fitbit\" },\n      2: { id: 2, value: \"Smartwatch\" },\n      3: { id: 3, value: \"Bluetooth speaker\" },\n      4: { id: 4, value: \"EarPods\" },\n    },\n    specialMeals: {\n      1: { id: 1, value: \"Veg Sandwich\" },\n      2: { id: 2, value: \"Beverages\" },\n      3: { id: 3, value: \"Biriyani\" },\n      4: { id: 4, value: \"Fried Rice\" },\n    },\n  },\n  {\n    id: 3,\n    name: \"E303\",\n    departure: \"15:00\",\n    destination: \"Mumbai\",\n    passengers: 3,\n    ancillariesId: 3,\n    purchases: {\n      1: { id: 1, value: \"fitbit\" },\n      2: { id: 2, value: \"Smartwatch\" },\n      3: { id: 3, value: \"Bluetooth speaker\" },\n      4: { id: 4, value: \"EarPods\" },\n    },\n    specialMeals: {\n      1: { id: 1, value: \"Veg Sandwich\" },\n      2: { id: 2, value: \"Beverages\" },\n      3: { id: 3, value: \"Biriyani\" },\n      4: { id: 4, value: \"Fried Rice\" },\n    },\n  },\n  {\n    id: 4,\n    name: \"E304\",\n    departure: \"12:00\",\n    destination: \"Jaipur\",\n    passengers: 0,\n    ancillariesId: 4,\n    purchases: {\n      1: { id: 1, value: \"fitbit\" },\n      2: { id: 2, value: \"Smartwatch\" },\n      3: { id: 3, value: \"Bluetooth speaker\" },\n      4: { id: 4, value: \"EarPods\" },\n    },\n    specialMeals: {\n      1: { id: 1, value: \"Veg Sandwich\" },\n      2: { id: 2, value: \"Beverages\" },\n      3: { id: 3, value: \"Biriyani\" },\n      4: { id: 4, value: \"Fried Rice\" },\n    },\n  },\n];\nconst passengers = [\n  {\n    id: 1,\n    name: \"Scott Allen\",\n    pnr: \"IND101\",\n    flightId: 1,\n    ancillary: [],\n    wheelChair: false,\n    infants: 0,\n    seat: \"\",\n    status: \"available\",\n    mealPreference: 1,\n    purchase: [1],\n    specialMeals: [],\n    passport: true,\n    address: \"xyz\",\n    dob: \"1995-12-10\",\n  },\n  {\n    id: 2,\n    name: \"Corey Hose\",\n    pnr: \"IND102\",\n    flightId: 1,\n    ancillary: [4],\n    wheelChair: false,\n    infants: 0,\n    seat: \"1B\",\n    status: \"reserved\",\n    mealPreference: 2,\n    purchase: [2],\n    specialMeals: [1],\n    passport: true,\n    address: \"xyd\",\n    dob: \"1994-12-10\",\n  },\n  {\n    id: 3,\n    name: \"James\",\n    pnr: \"IND103\",\n    flightId: 1,\n    ancillary: [],\n    wheelChair: true,\n    infants: 0,\n    seat: \"2A\",\n    status: \"wheelChair\",\n    mealPreference: 1,\n    purchase: [],\n    specialMeals: [1, 2],\n    passport: false,\n    address: \"xyq\",\n    dob: \"1995-12-11\",\n  },\n  {\n    id: 4,\n    name: \"Bond\",\n    pnr: \"IND104\",\n    flightId: 2,\n    ancillary: [1],\n    wheelChair: false,\n    infants: 1,\n    seat: \"2A\",\n    status: \"infants\",\n    mealPreference: 3,\n    purchase: [],\n    specialMeals: [3],\n    passport: true,\n    address: \"\",\n    dob: \"1994-12-10\",\n  },\n  {\n    id: 5,\n    name: \"Kevin\",\n    pnr: \"IND105\",\n    flightId: 2,\n    ancillary: [],\n    wheelChair: false,\n    infants: 1,\n    seat: \"4A\",\n    status: \"infants\",\n    mealPreference: 1,\n    purchase: [3],\n    specialMeals: [4],\n    passport: false,\n    address: \"xlz\",\n    dob: \"\",\n  },\n  {\n    id: 6,\n    name: \"Roger\",\n    pnr: \"IND106\",\n    flightId: 3,\n    ancillary: [],\n    wheelChair: true,\n    infants: 0,\n    seat: \"1A\",\n    status: \"wheelChair\",\n    mealPreference: 3,\n    purchase: [1],\n    specialMeals: [2, 3],\n    passport: true,\n    address: \"\",\n    dob: \"\",\n  },\n  {\n    id: 7,\n    name: \"Sai\",\n    pnr: \"IND107\",\n    flightId: 3,\n    ancillary: [],\n    wheelChair: false,\n    infants: 0,\n    seat: \"2B\",\n    status: \"reserved\",\n    mealPreference: 2,\n    purchase: [1, 3],\n    specialMeals: [],\n    passport: true,\n    address: \"tyz\",\n    dob: \"1995-12-01\",\n  },\n  {\n    id: 8,\n    name: \"Rahul\",\n    pnr: \"IND108\",\n    flightId: 3,\n    ancillary: [1],\n    wheelChair: false,\n    infants: 0,\n    seat: \"3A\",\n    status: \"reserved\",\n    mealPreference: 3,\n    purchase: [],\n    specialMeals: [],\n    passport: false,\n    address: \"pyz\",\n    dob: \"\",\n  },\n];\n\nconst seatMaps = [\n  {\n    id: 1,\n    seatmap: [\n      { id: 1, number: \"1A\", status: \"reserved\", passengerId: 1 },\n      { id: 2, number: \"1B\", status: \"reserved\", passengerId: 2 },\n      { id: 3, number: \"2A\", status: \"reserved\", passengerId: 3 },\n      { id: 4, number: \"2B\", status: \"available\", passengerId: null },\n      { id: 5, number: \"3A\", status: \"available\", passengerId: null },\n      { id: 6, number: \"3B\", status: \"available\", passengerId: null },\n      { id: 7, number: \"4A\", status: \"available\", passengerId: null },\n      { id: 8, number: \"4B\", status: \"available\", passengerId: null },\n    ],\n  },\n  {\n    id: 2,\n    seatmap: [\n      { id: 1, number: \"1A\", status: \"available\", passengerId: null },\n      { id: 2, number: \"1B\", status: \"available\", passengerId: null },\n      { id: 3, number: \"2A\", status: \"reserved\", passengerId: 4 },\n      { id: 4, number: \"2B\", status: \"available\", passengerId: null },\n      { id: 5, number: \"3A\", status: \"available\", passengerId: null },\n      { id: 6, number: \"3B\", status: \"available\", passengerId: null },\n      { id: 7, number: \"4A\", status: \"reserved\", passengerId: 5 },\n      { id: 8, number: \"4B\", status: \"available\", passengerId: null },\n    ],\n  },\n  {\n    id: 3,\n    seatmap: [\n      { id: 1, number: \"1A\", status: \"reserved\", passengerId: 6 },\n      { id: 2, number: \"1B\", status: \"available\", passengerId: null },\n      { id: 3, number: \"2A\", status: \"available\", passengerId: null },\n      { id: 4, number: \"2B\", status: \"reserved\", passengerId: 7 },\n      { id: 5, number: \"3A\", status: \"reserved\", passengerId: 8 },\n      { id: 6, number: \"3B\", status: \"available\", passengerId: null },\n      { id: 7, number: \"4A\", status: \"available\", passengerId: null },\n      { id: 8, number: \"4B\", status: \"available\", passengerId: null },\n    ],\n  },\n  {\n    id: 4,\n    seatmap: [\n      { id: 1, number: \"1A\", status: \"available\", passengerId: null },\n      { id: 2, number: \"1B\", status: \"available\", passengerId: null },\n      { id: 3, number: \"2A\", status: \"available\", passengerId: null },\n      { id: 4, number: \"2B\", status: \"available\", passengerId: null },\n      { id: 5, number: \"3A\", status: \"available\", passengerId: null },\n      { id: 6, number: \"3B\", status: \"available\", passengerId: null },\n      { id: 7, number: \"4A\", status: \"available\", passengerId: null },\n      { id: 8, number: \"4B\", status: \"available\", passengerId: null },\n    ],\n  },\n];\n\nconst newPassenger = {\n  id: null,\n  name: \"\",\n  pnr: \"\",\n  flightId: null,\n  ancillary: [],\n  wheelChair: null,\n  infants: 0,\n  seat: \"\",\n  status: \"available\",\n  mealPreference: null,\n  specialMeals: [],\n  purchase: [],\n  passport: null,\n  address: \"\",\n  dob: \"\",\n};\n\nconst newFlight = {\n  id: null,\n  name: \"\",\n  departure: \"\",\n  destination: \"\",\n  passengers: null,\n  ancillariesId: null,\n  purchases: {},\n  specialMeals: {},\n};\n\nconst newSeatMap = {\n  id: 1,\n  seatmap: [\n    { id: 1, number: \"1A\", status: \"available\", passengerId: null },\n    { id: 2, number: \"1B\", status: \"available\", passengerId: null },\n    { id: 3, number: \"2A\", status: \"available\", passengerId: null },\n    { id: 4, number: \"2B\", status: \"available\", passengerId: null },\n    { id: 5, number: \"3A\", status: \"available\", passengerId: null },\n    { id: 6, number: \"3B\", status: \"available\", passengerId: null },\n    { id: 7, number: \"4A\", status: \"available\", passengerId: null },\n    { id: 8, number: \"4B\", status: \"available\", passengerId: null },\n  ],\n};\n\nconst newSeat = {\n  id: null,\n  number: \"\",\n  status: \"\",\n  passengerId: null,\n};\n\nconst ancillaries = [\n  {\n    id: 1,\n    value: {\n      1: { id: 1, value: \"seat-plus\" },\n      2: { id: 2, value: \"Excess Baggage\" },\n      3: { id: 3, value: \"Fast Forward\" },\n      4: { id: 4, value: \"Travel Assistance\" },\n    },\n  },\n  {\n    id: 2,\n    value: {\n      1: { id: 1, value: \"seat-plus\" },\n      2: { id: 2, value: \"Excess Baggage\" },\n      3: { id: 3, value: \"Fast Forward\" },\n      4: { id: 4, value: \"Travel Assistance\" },\n    },\n  },\n  {\n    id: 3,\n    value: {\n      1: { id: 1, value: \"seat-plus\" },\n      2: { id: 2, value: \"Excess Baggage\" },\n      3: { id: 3, value: \"Fast Forward\" },\n      4: { id: 4, value: \"Travel Assistance\" },\n    },\n  },\n  {\n    id: 4,\n    value: {\n      1: { id: 1, value: \"seat-plus\" },\n      2: { id: 2, value: \"Excess Baggage\" },\n      3: { id: 3, value: \"Fast Forward\" },\n      4: { id: 4, value: \"Travel Assistance\" },\n    },\n  },\n];\nconst mealPreferences = {\n  1: { id: 1, value: \"VEG\" },\n  2: { id: 2, value: \"NON-VEG\" },\n  3: { id: 3, value: \"NO MEAL\" },\n};\n\nconst purchases = {\n  1: { id: 1, value: \"fitbit\" },\n  2: { id: 2, value: \"Smartwatch\" },\n  3: { id: 3, value: \"Bluetooth speaker\" },\n  4: { id: 4, value: \"EarPods\" },\n};\n\nconst newAncillaries = {\n  id: null,\n  value: [],\n};\nmodule.exports = {\n  mealPreferences,\n  newPassenger,\n  newAncillaries,\n  flights,\n  passengers,\n  purchases,\n  ancillaries,\n  newFlight,\n  seatMaps,\n  newSeatMap,\n  newSeat,\n};\n","import { handleResponse, handleError } from \"./apiUtils\";\nconst baseUrl = process.env.API_URL + \"/ancillaries/\";\n\nexport function getAncillaries() {\n  return fetch(baseUrl).then(handleResponse).catch(handleError);\n}\n\nexport function saveAncillary(ancillary) {\n  return fetch(baseUrl + (ancillary.id || \"\"), {\n    method: ancillary.id ? \"PUT\" : \"POST\", // POST for create, PUT to update when id already exists.\n    headers: { \"content-type\": \"application/json\" },\n    body: JSON.stringify(ancillary),\n  })\n    .then(handleResponse)\n    .catch(handleError);\n}\n","/* eslint-disable no-unused-vars */\r\nimport * as types from \"./actionTypes\";\r\nimport * as ancillaryApi from \"../../api/ancillaryApi\";\r\n\r\nexport function loadAncillariesSuccess(ancillaries) {\r\n  return { type: types.LOAD_ANCILLARIES_SUCCESS, ancillaries };\r\n}\r\n\r\nexport function createAncillarySuccess(ancillary) {\r\n  return { type: types.CREATE_ANCILLARY_SUCCESS, ancillary };\r\n}\r\n\r\nexport function updateAncillarySuccess(ancillary) {\r\n  return { type: types.UPDATE_ANCILLARY_SUCCESS, ancillary };\r\n}\r\n\r\nexport function loadAncillaries() {\r\n  return function (dispatch) {\r\n    // dispatch(beginApiCall());\r\n    return ancillaryApi\r\n      .getAncillaries()\r\n      .then((ancillaries) => {\r\n        dispatch(loadAncillariesSuccess(ancillaries));\r\n      })\r\n      .catch((error) => {\r\n        // dispatch(apiCallError(error));\r\n        throw error;\r\n      });\r\n  };\r\n}\r\n\r\nexport function saveAncillary(ancillary) {\r\n  return function (dispatch, getState) {\r\n    // dispatch(beginApiCall());\r\n    return ancillaryApi\r\n      .saveAncillary(ancillary)\r\n      .then((savedAncillary) => {\r\n        ancillary.id\r\n          ? dispatch(updateAncillarySuccess(savedAncillary))\r\n          : dispatch(createAncillarySuccess(savedAncillary));\r\n      })\r\n      .catch((error) => {\r\n        // dispatch(apiCallError(error));\r\n        throw error;\r\n      });\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./SeatMap.scss\";\r\nimport { newSeatMap } from \"../../../tools/mockData\";\r\nimport { Link } from \"react-router-dom\";\r\nconst SeatMapPage = ({\r\n  passenger,\r\n  passengers,\r\n  select,\r\n  onSave,\r\n  backUrl,\r\n  inFlight = false,\r\n  isAdmin = false,\r\n  saving = false,\r\n}) => {\r\n  const statusList = inFlight\r\n    ? passengers.map((passenger1) => {\r\n        return passenger1.seat && passenger1.specialMeals.length > 0\r\n          ? { seat: passenger1.seat, status: \"special-meal\" }\r\n          : passenger1.seat\r\n          ? { seat: passenger1.seat, status: \"reserved\" }\r\n          : {};\r\n      })\r\n    : passengers.map((passenger1) => {\r\n        const status =\r\n          passenger1.wheelChair && passenger1.infants > 0\r\n            ? \"both\"\r\n            : passenger1.infants > 0\r\n            ? \"infants\"\r\n            : passenger1.wheelChair\r\n            ? \"wheelChair\"\r\n            : \"reserved\";\r\n        return passenger1.seat ? { seat: passenger1.seat, status } : {};\r\n      });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col-8\">\r\n          {newSeatMap.seatmap.map((seat) => {\r\n            return (\r\n              <div key={seat.id}>\r\n                <div\r\n                  id={seat.id}\r\n                  name={seat.number}\r\n                  className={\r\n                    passenger && passenger.seat === seat.number\r\n                      ? \"selected\"\r\n                      : passengers.length > 0\r\n                      ? (\r\n                          statusList.find((a) => a.seat === seat.number) || {\r\n                            status: \"available\",\r\n                          }\r\n                        ).status\r\n                      : seat.status\r\n                  }\r\n                  onClick={\r\n                    passenger &&\r\n                    (() =>\r\n                      select({\r\n                        id: seat.id,\r\n                        number: seat.number,\r\n                      }))\r\n                  }\r\n                >\r\n                  <h4 id=\"seat-number\">{seat.number}</h4>\r\n                </div>\r\n                {parseInt(seat.id, 10) % 2 === 0 && (\r\n                  <div className=\"clearBoth\"></div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n          <div className=\"row\">\r\n            {passenger && !isAdmin && (\r\n              <div className=\"col\">\r\n                <button\r\n                  style={{ marginTop: 20 }}\r\n                  className=\"btn btn-primary\"\r\n                  onClick={passenger && onSave}\r\n                >\r\n                  {saving ? \"saving..\" : \"save\"}\r\n                </button>\r\n              </div>\r\n            )}\r\n            <div className=\"col\">\r\n              <Link\r\n                style={{ marginTop: 20 }}\r\n                className=\"btn btn-primary\"\r\n                to={backUrl}\r\n              >\r\n                Back\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-4\">\r\n          <div className=\"colorCode\" style={{ background: \"#d8d8d8\" }}></div>\r\n          Available\r\n          <div className=\"colorCode\" style={{ background: \"#ffa500\" }}></div>\r\n          Reserved\r\n          {inFlight ? (\r\n            <>\r\n              <div\r\n                className=\"colorCode\"\r\n                style={{ background: \"#ac0788\" }}\r\n              ></div>\r\n              Special Meal\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div\r\n                className=\"colorCode\"\r\n                style={{ background: \"#3366cc\" }}\r\n              ></div>\r\n              selected\r\n              <div\r\n                className=\"colorCode\"\r\n                style={{ background: \"#c52b44\" }}\r\n              ></div>\r\n              WheelChair\r\n              <div\r\n                className=\"colorCode\"\r\n                style={{ background: \"#ac0788\" }}\r\n              ></div>\r\n              Infants\r\n              <div\r\n                className=\"colorCode\"\r\n                style={{ background: \"#04640c\" }}\r\n              ></div>\r\n              WheelChair + Infants\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {passenger && (\r\n        <p className=\"information\">**Click on the same seat to de-select</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nSeatMapPage.propTypes = {\r\n  passenger: PropTypes.object,\r\n  passengers: PropTypes.array.isRequired,\r\n  select: PropTypes.func,\r\n  onSave: PropTypes.func,\r\n  backUrl: PropTypes.string.isRequired,\r\n  inFlight: PropTypes.bool,\r\n  isAdmin: PropTypes.bool,\r\n  saving: PropTypes.bool,\r\n};\r\nexport default SeatMapPage;\r\n"],"sourceRoot":""}