(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{108:function(e,t,n){"use strict";n.r(t);var a=n(19),l=n(94),r=n(27),i=n(0),c=n.n(i),s=n(34),o=n(77),u=n(80),f=n(93),h=n(78);var g={loadFlights:o.a,loadPassengers:u.a};t.default=Object(s.b)((function(e){return{checkedInFlights:e.flights.length>0&&e.passengers.length>0?e.flights.filter((function(t){var n=e.passengers.filter((function(e){return e.flightId===t.id})).length,a=0===e.passengers.filter((function(e){return e.flightId===t.id&&(!e.seat||"available"===e.status)})).length;return n>0&&a})):[],passengers:e.passengers,flights:e.flights}}),g)((function(e){var t=e.loadFlights,n=e.flights,s=e.passengers,o=e.loadPassengers,u=e.history,g=Object(r.a)(e,["loadFlights","flights","passengers","loadPassengers","history"]),m=Object(i.useState)(Object(a.a)(g.checkedInFlights)),d=Object(l.a)(m,2),p=d[0],v=d[1];return Object(i.useEffect)((function(){0===n.length&&t().catch((function(e){return alert("Loading flights failed "+e)})),0===s.length?o().catch((function(e){return alert("Loading flights failed "+e)})):n.length>0&&v(Object(a.a)(g.checkedInFlights))}),[g.checkedInFlights]),c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Staff Dashboard"),0===n.length||0===s.length?c.a.createElement(h.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"Flight List"},"Flight List for Check-In:"),c.a.createElement("div",{className:"field"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),u.push("/staff/flights")}},"Flight List"))),c.a.createElement(f.a,{name:"InFlightOption",label:"In-Flight Option:",value:"",defaultOption:"Select Flight",options:p.map((function(e){return{value:e.name,text:e.name}})),onChange:function(e){e.preventDefault();var t=e.target.value;u.push("/staff/in-flight/"+t)}})),c.a.createElement("p",{className:"information"},"** In-Flight Option will only show checked-In flights")))}))},77:function(e,t,n){"use strict";var a=n(8),l=n(75),r="https://my-json-server.typicode.com/rajat-agrvm/mock-json-server/flights/";function i(){return function(e){return fetch(r).then(l.b).catch(l.a).then((function(t){e(function(e){return{type:a.f,flights:e}}(t))})).catch((function(e){throw e}))}}function c(e){return function(t,n){return function(e){return fetch(r+(e.id||""),{method:e.id?"PUT":"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(l.b).catch(l.a)}(e).then((function(n){e.id?t(function(e){return{type:a.i,flight:e}}(n)):t(function(e){return{type:a.b,flight:e}}(n))})).catch((function(e){throw e}))}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}))},93:function(e,t,n){"use strict";var a=n(0),l=n.n(a);t.a=function(e){var t=e.name,n=e.label,a=e.onChange,r=e.defaultOption,i=e.value,c=e.error,s=e.options;return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:t},n),l.a.createElement("div",{className:"field"},l.a.createElement("select",{name:t,value:i,onChange:a,className:"form-control"},l.a.createElement("option",{value:""},r),s.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.text)}))),c&&l.a.createElement("div",{className:"alert alert-danger"},c)))}}}]);
//# sourceMappingURL=13.bundle.js.map